/*! @license pzpr.js v10246b92 (c) 2009-2021 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */

!function(a,b){"object"==typeof module&&module.exports?module.exports=[a,b]:pzpr.classmgr.makeCustom(a,b)}(["aqre"],{MouseEvent:{use:!0,inputModes:{edit:["border","number","clear","info-blk"],play:["shade","unshade","info-blk"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.puzzle.editmode&&(this.mousestart||this.mousemove?this.inputborder():this.mouseend&&this.notInputted()&&this.inputqnum())}},KeyEvent:{enablemake:!0},Cell:{maxnum:function(){var a=this.room.clist.getRectSize();return a.cols*a.rows},minnum:0},Board:{hasborder:1,autoSolve:function(a){if(!this.is_autosolve&&!a){for(var b=!1,c=0;c<this.cell.length;++c){var d=this.cell[c];0===d.qansBySolver&&0===d.qsubBySolver||(b=!0,d.qansBySolver=0,d.qsubBySolver=0)}return void(b&&this.puzzle.painter.paintAll())}for(var e=this.maxby/2,f=this.maxbx/2,g=[],h=[],i=this.roommgr.components,c=0;c<i.length;++c){for(var j=i[c].clist,k=-1,l=[],m=0;m<j.length;++m)l.push({y:(j[m].by-1)/2,x:(j[m].bx-1)/2}),j[m].qnum>=0&&(k=j[m].qnum);g.push(l),h.push(k)}var n=Cspuz.puzzle.solveAqre(e,f,g,h);if(null!==n)for(var c=0;c<this.cell.length;++c){var d=this.cell[c],o=n[(d.by-1)/2][(d.bx-1)/2];-1===o?(d.qansBySolver=0,d.qsubBySolver=0):-2===o?(d.qansBySolver=1,d.qsubBySolver=0):-3===o&&(d.qansBySolver=0,d.qsubBySolver=1)}else for(var c=0;c<this.cell.length;++c){var d=this.cell[c];1&((d.by-1)/2^(d.bx-1)/2)?(d.qansBySolver=1,d.qsubBySolver=0):(d.qansBySolver=0,d.qsubBySolver=1)}this.puzzle.painter.paintAll()}},AreaShadeGraph:{enabled:!0},AreaRoomGraph:{enabled:!0,hastop:!0},Graphic:{gridcolor_type:"DARK",enablebcolor:!0,bgcellcolor_func:"qsub1",paint:function(){this.drawShadedCells(),this.drawGrid(),this.drawDotCells(),this.drawQuesNumbers(),this.drawBorders(),this.drawChassis(),this.drawBoxBorders(!1),this.drawTarget()}},Encode:{decodePzpr:function(a){this.decodeBorder(),this.decodeRoomNumber16()},encodePzpr:function(a){this.encodeBorder(),this.encodeRoomNumber16()}},FileIO:{decodeData:function(){this.decodeAreaRoom(),this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeAreaRoom(),this.encodeCellQnum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkConnectShade","checkShadeCellCount","checkContinuousShadeCell","checkContinuousUnshadeCell","doneShadingDecided"],checkRun3:function(a,b){for(var c=this.board,d=0;d<c.cell.length;d++){var e=c.cell[d],f=e.bx,g=e.by;if(!(e.bx>c.maxbx-7)){var h=c.cellinside(f,g,f+6,g).filter(a);if(!(h.length<4)){if(this.failcode.add(b),this.checkOnly)break;h.seterr(1)}}}for(var d=0;d<c.cell.length;d++){var e=c.cell[d],f=e.bx,g=e.by;if(!(e.by>c.maxby-7)){var h=c.cellinside(f,g,f,g+6).filter(a);if(!(h.length<4)){if(this.failcode.add(b),this.checkOnly)break;h.seterr(1)}}}},checkContinuousShadeCell:function(){this.checkRun3(function(a){return a.isShade()},"cs3")},checkContinuousUnshadeCell:function(){this.checkRun3(function(a){return!a.isShade()},"cu3")}},FailCode:{cs3:["(please translate) There are more than three shaded cells in a row.","There are more than three shaded cells in a row."],cu3:["(please translate) There are more than three unshaded cells in a row.","There are more than three unshaded cells in a row."]}});
//# sourceMappingURL=aqre.js.map